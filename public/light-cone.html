<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Honkai: Star Rail Guide</title>
  <link rel="stylesheet" href="styles.css">
</head>

<body>

  <!-- โหลด Navbar -->
  <div id="navbar"></div>

  <!-- Main Content Area -->
  <div class="main-content">
    <!-- Left Content (เนื้อหาของแต่ละหน้า) -->
    <div class="left-content">
      <h1>ไลท์โคน (Light cone)</h1>
      <p>Light cone คือไอเทมสำหรับสวมใส่ตัวละครซึ่งมี Level แลพ Path ของตัวเองโดยจะมีคุณประโยชน์ 2 อย่าง คือ 1.เพิ่ม
        Stat พื้นฐาน 2.เพิ่มความสามารถพิเศษให้กับตัวละครที่สวมใส่(แต่จะมีผลเมื่อตัวละครที่สวมใส่และ Light cone มี Path
        เดียวกัน)</p>
        <br>
        <p>ข้อมูลต่อไปนี้คือ Light Cone ที่วางซ้อน 5 แล้ว</p>
      <h2>Light cone 3 ★</h2>
      <table id="LightCone-table-3">
        <thead>
          <tr>
            <th>Light Cone</th>
            <th>ชื่อ</th>
            <th>Path</th>
            <th>ความสามารถ</th>
            <th>HP</th>
            <th>ATK</th>
            <th>DEF</th>
          </tr>
        </thead>
        <tbody>
          <!-- ข้อมูลจะถูกเพิ่มโดย JavaScript -->
        </tbody>
      </table>
      <h2>Light cone 4 ★</h2>
      <table id="LightCone-table-4">
        <thead>
          <tr>
            <th>Light Cone</th>
            <th>ชื่อ</th>
            <th>Path</th>
            <th>ความสามารถ</th>
            <th>HP</th>
            <th>ATK</th>
            <th>DEF</th>
          </tr>
        </thead>
        <tbody>
          <!-- ข้อมูลจะถูกเพิ่มโดย JavaScript -->
        </tbody>
      </table>
      <h2>Light cone 5 ★</h2>
      <table id="LightCone-table-5">
        <thead>
          <tr>
            <th>Light Cone</th>
            <th>ชื่อ</th>
            <th>Path</th>
            <th>ความสามารถ</th>
            <th>HP</th>
            <th>ATK</th>
            <th>DEF</th>
          </tr>
        </thead>
        <tbody>
          <!-- ข้อมูลจะถูกเพิ่มโดย JavaScript -->
        </tbody>
      </table>
    </div>

    <!-- โหลด Sidebar -->
    <div id="sidebar"></div>
  </div>

  <!-- โหลด Footer -->
  <div id="footer"></div>

  <!-- JavaScript เพื่อโหลดเนื้อหาของไฟล์ HTML ที่สร้างแยก -->
  <!-- JavaScript เพื่อโหลดเนื้อหาของไฟล์ HTML และข้อมูล -->
  <script>
    // ฟังก์ชันโหลด Navbar, Sidebar และ Footer
    function loadComponents() {
      Promise.all([
        fetch('./component/navbar.html').then(response => response.text()),
        fetch('./component/sidebar.html').then(response => response.text()),
        fetch('./component/footer.html').then(response => response.text())
      ]).then(([navbar, sidebar, footer]) => {
        document.getElementById('navbar').innerHTML = navbar;
        document.getElementById('sidebar').innerHTML = sidebar;
        document.getElementById('footer').innerHTML = footer;
      }).catch(error => console.error('Error loading components:', error));
    }

    // ฟังก์ชันสร้างแถวตารางสำหรับ Light Cone
    function createLightConeRow(LightCone) {
      const row = document.createElement('tr');

      // เซลล์ภาพ
      const imgCell = document.createElement('td');
      const img = document.createElement('img');
      img.src = LightCone.image;
      img.alt = LightCone.name;
      img.style.width = '100px'; // ปรับขนาดภาพตามต้องการ
      img.style.borderRadius = '5px';
      imgCell.appendChild(img);
      row.appendChild(imgCell);

      // เซลล์ชื่อ
      const nameCell = document.createElement('td');
      nameCell.textContent = LightCone.name;
      row.appendChild(nameCell);

      // เซลล์ Path
      const pathCell = document.createElement('td');
      pathCell.textContent = LightCone.path;
      row.appendChild(pathCell);

      // เซลล์ความสามารถ
      const effectCell = document.createElement('td');
      effectCell.textContent = LightCone.effect;
      row.appendChild(effectCell);

      // เซลล์ HP
      const HPCell = document.createElement('td');
      HPCell.textContent = LightCone.HP;
      row.appendChild(HPCell);

      // เซลล์ ATK
      const ATKCell = document.createElement('td');
      ATKCell.textContent = LightCone.ATK;
      row.appendChild(ATKCell);

      // เซลล์ DEF
      const DEFCell = document.createElement('td');
      DEFCell.textContent = LightCone.DEF;
      row.appendChild(DEFCell);

      return row;
    }

    // ฟังก์ชันโหลดข้อมูล Light Cones จาก JSON และแสดงบนหน้าเว็บ
    function loadLightCones() {
      fetch('./data/light-cone.json')
        .then(response => response.json())
        .then(data => {
          // แยกข้อมูลตามระดับดาว
          const star3 = data.filter(LightCone => LightCone.star === "3");
          const star4 = data.filter(LightCone => LightCone.star === "4");
          const star5 = data.filter(LightCone => LightCone.star === "5");

          // อ้างอิงตารางแต่ละระดับดาว
          const table3Body = document.querySelector('#LightCone-table-3 tbody');
          const table4Body = document.querySelector('#LightCone-table-4 tbody');
          const table5Body = document.querySelector('#LightCone-table-5 tbody');

          // เพิ่มแถวไปยังตาราง Star 3
          star3.forEach(LightCone => {
            const row = createLightConeRow(LightCone);
            table3Body.appendChild(row);
          });

          // เพิ่มแถวไปยังตาราง Star 4
          star4.forEach(LightCone => {
            const row = createLightConeRow(LightCone);
            table4Body.appendChild(row);
          });

          // เพิ่มแถวไปยังตาราง Star 5
          star5.forEach(LightCone => {
            const row = createLightConeRow(LightCone);
            table5Body.appendChild(row);
          });
        })
        .catch(error => console.error('Error loading light-cones:', error));
    }

    // เรียกใช้ฟังก์ชันเมื่อโหลดหน้าเว็บ
    document.addEventListener('DOMContentLoaded', () => {
      loadComponents();
      loadLightCones();
    });
  </script>

</body>

</html>